(this["webpackJsonpcontact-manager"]=this["webpackJsonpcontact-manager"]||[]).push([[0],{68:function(e,t,c){"use strict";c.r(t);var a=c(3),n=c(2),s=c(20),r=c.n(s),o=c(17),i=c(23),l=c(8),d=c(18),u=function(e){var t=e.onLogout;return Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col-md-12 p-2",children:Object(a.jsxs)("ul",{className:"nav nav-tabs",children:[Object(a.jsx)("li",{className:"nav-item",children:Object(a.jsx)(i.b,{exact:!0,to:"/",className:"nav-link",activeStyle:{color:"#5CB85C"},"data-toggle":"tab",children:Object(a.jsx)("h5",{children:"Contacts"})})}),Object(a.jsx)("li",{className:"nav-item",children:Object(a.jsx)(i.b,{exact:!0,to:"/favorites",className:"nav-link",activeStyle:{color:"#5CB85C"},"data-toggle":"tab",children:Object(a.jsx)("h5",{children:"Favorites"})})}),Object(a.jsx)("li",{className:"nav-item",children:Object(a.jsx)("div",{className:"nav-link",style:{cursor:"pointer"},"data-toggle":"tab",onClick:t,children:Object(a.jsx)("h5",{children:"Logout"})})})]})})})},j=function(e){var t=e.onLogin;return Object(a.jsx)("div",{className:"container p-4",children:Object(a.jsx)("div",{className:"row d-flex justify-content-center",children:Object(a.jsx)("div",{className:"col-md-4",children:Object(a.jsxs)("div",{className:"card card-body",children:[Object(a.jsx)("h2",{className:"mb-4 text-center",children:"Contact Manager"}),Object(a.jsx)("button",{className:"btn btn-success btn-block",onClick:t,children:"Login With Google"})]})})})})},b=c(10),p=c.n(b),m=c(13),h=c(16),O=c(39),f=(c(53),O.a.initializeApp({apiKey:"AIzaSyAAnxLfqJM_oR9ZDU6psW5IEN9F6HbhVfw",authDomain:"g-login-196b7.firebaseapp.com",databaseURL:"https://g-login-196b7-default-rtdb.europe-west1.firebasedatabase.app",projectId:"g-login-196b7",storageBucket:"g-login-196b7.appspot.com",messagingSenderId:"545200038742",appId:"1:545200038742:web:c35af73fd150dd209eecf7"}).firestore()),x=function(e){var t=e.contacts,c=e.setModalIsOpen,n=e.setIdForEdit,s=function(){var e=Object(h.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.collection("contacts").doc(t.id).update(Object(m.a)(Object(m.a)({},t),{},{favorite:!t.favorite}));case 3:Object(d.b)(t.favorite?"Contact Removed From Favorites":"Contact Added To Favorites",{type:"success",autoClose:1500}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),r=function(){var e=Object(h.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.collection("contacts").doc(t).delete();case 3:Object(d.b)("Contact Removed",{type:"success",autoClose:1500}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsx)("div",{className:"row",children:Object(a.jsxs)("div",{className:"col-md-12 p-2",children:[Object(a.jsxs)("div",{className:"d-flex justify-content-center align-items-center",children:[Object(a.jsx)("h3",{className:"text-center p-4 mb-0",children:"Contacts"}),Object(a.jsx)("i",{className:"material-icons text-success",style:{cursor:"pointer"},onClick:function(){return c(!0)},children:"add"})]}),t.map((function(e){return Object(a.jsx)("div",{className:"card mb-2",children:Object(a.jsx)("div",{className:"card-body",children:Object(a.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(a.jsxs)("div",{children:[Object(a.jsx)("h5",{className:"text-success",children:e.name}),Object(a.jsx)("h5",{children:e.tel}),Object(a.jsx)("h5",{children:e.email})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("i",{className:e.favorite?"material-icons text-success":"material-icons",style:{cursor:"pointer"},onClick:function(){return s(e)},children:"star"}),Object(a.jsx)("i",{className:"material-icons",style:{cursor:"pointer"},onClick:function(){return t=e.id,c(!0),void n(t);var t},children:"edit"}),Object(a.jsx)("i",{className:"material-icons",style:{cursor:"pointer"},onClick:function(){return r(e.id)},children:"delete"})]})]})})},e.id)}))]})})},v=c(26),g=c(32),N=c.n(g);N.a.setAppElement("#root");var y=function(e){var t=e.modalIsOpen,c=e.setModalIsOpen,s=e.idForEdit,r=e.setIdForEdit,i={name:"",tel:"",email:""},l=Object(n.useState)(Object(m.a)({},i)),u=Object(o.a)(l,2),j=u[0],b=u[1],O=function(){var e=Object(h.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.collection("contacts").doc().set(Object(m.a)(Object(m.a)({},j),{},{favorite:!1}));case 3:Object(d.b)("Contact Added",{type:"success",autoClose:1500}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),x=function(){var e=Object(h.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.collection("contacts").doc(s).update(j);case 3:Object(d.b)("Contact Updated",{type:"success",autoClose:1500}),r(""),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),g=function(e){var t=e.target,c=t.name,a=t.value;b(Object(m.a)(Object(m.a)({},j),{},Object(v.a)({},c,a)))},y=function(){var e=Object(h.a)(p.a.mark((function e(t){var c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.collection("contacts").doc(t).get();case 2:c=e.sent,b(Object(m.a)({},c.data()));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){""===s?b(Object(m.a)({},i)):y(s)}),[s]),Object(a.jsx)(N.a,{isOpen:t,onRequestClose:function(){return c(!1)},style:{overlay:{backgroundColor:"#32383E"},content:{padding:0,backgroundColor:"#272B30"}},children:Object(a.jsx)("div",{className:"container",children:Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col-md-12 p-2",children:Object(a.jsxs)("form",{className:"card card-body",onSubmit:function(e){return e.preventDefault(),t=j.tel,/^\d+$/.test(t)?(a=j.email,/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(a).toLowerCase())?(""===s?O():x(),b({name:"",tel:"",email:"",favorite:!1}),void c(!1)):Object(d.b)("Invalid Email",{type:"error",autoClose:1500})):Object(d.b)("Invalid Telephone Number",{type:"error",autoClose:1500});var t,a},children:[Object(a.jsxs)("div",{className:"form-group input-group",children:[Object(a.jsx)("div",{className:"input-group-text bg-light",children:Object(a.jsx)("i",{className:"material-icons",children:"person"})}),Object(a.jsx)("input",{className:"form-control",type:"text",placeholder:"Name",name:"name",value:j.name,required:!0,onChange:g})]}),Object(a.jsxs)("div",{className:"form-group input-group",children:[Object(a.jsx)("div",{className:"input-group-text bg-light",children:Object(a.jsx)("i",{className:"material-icons",children:"phone"})}),Object(a.jsx)("input",{className:"form-control",type:"text",placeholder:"Tel",name:"tel",value:j.tel,required:!0,onChange:g})]}),Object(a.jsxs)("div",{className:"form-group input-group",children:[Object(a.jsx)("div",{className:"input-group-text bg-light",children:Object(a.jsx)("i",{className:"material-icons",children:"email"})}),Object(a.jsx)("input",{className:"form-control",type:"text",placeholder:"Email",name:"email",value:j.email,required:!0,onChange:g})]}),Object(a.jsx)("button",{className:"btn btn-success btn-block",children:""===s?"Update":"Add"})]})})})})})},C=function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),c=t[0],s=t[1],r=Object(n.useState)(!1),i=Object(o.a)(r,2),l=i[0],d=i[1],u=Object(n.useState)(""),j=Object(o.a)(u,2),b=j[0],O=j[1],v=function(){var e=Object(h.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{f.collection("contacts").onSnapshot((function(e){var t=[];e.forEach((function(e){t.push(Object(m.a)(Object(m.a)({},e.data()),{},{id:e.id}))})),s(t)}))}catch(t){console.log(t)}case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){v()}),[]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(x,{contacts:c,setModalIsOpen:d,setIdForEdit:O}),Object(a.jsx)(y,{modalIsOpen:l,setModalIsOpen:d,idForEdit:b,setIdForEdit:O})]})},k=function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),c=t[0],s=t[1],r=function(){var e=Object(h.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f.collection("contacts").onSnapshot((function(e){var t=[];e.forEach((function(e){t.push(e.data())})),s(t.filter((function(e){return e.favorite})))}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){r()}),[]),Object(a.jsx)("div",{className:"row",children:Object(a.jsxs)("div",{className:"col-md-12 p-2",children:[Object(a.jsx)("h3",{className:"text-center p-4 mb-0",children:"Favorites"}),c.map((function(e){return Object(a.jsx)("div",{className:"card mb-2",children:Object(a.jsxs)("div",{className:"card-body",children:[Object(a.jsx)("h5",{children:e.name}),Object(a.jsx)("h5",{children:e.tel}),Object(a.jsx)("h5",{children:e.email})]})},e.id)}))]})})},w=c(24),I=(c(66),function(){var e=Object(n.useState)(!1),t=Object(o.a)(e,2),c=t[0],s=t[1];return Object(n.useEffect)((function(){w.a.auth().onAuthStateChanged((function(e){e&&s(!0)}))}),[]),c?Object(a.jsxs)("div",{className:"container p-4",children:[Object(a.jsxs)(i.a,{children:[Object(a.jsx)(u,{onLogout:function(){w.a.auth().signOut(),s(!1)}}),Object(a.jsxs)(l.c,{children:[Object(a.jsx)(l.a,{path:"/",exact:!0,component:C}),Object(a.jsx)(l.a,{path:"/favorites",component:k})]})]}),Object(a.jsx)(d.a,{})]}):Object(a.jsx)(j,{onLogin:function(){var e=new w.a.auth.GoogleAuthProvider;w.a.auth().signInWithPopup(e)}})});c(67);r.a.render(Object(a.jsx)(I,{}),document.getElementById("root"))}},[[68,1,2]]]);
//# sourceMappingURL=main.167e6704.chunk.js.map